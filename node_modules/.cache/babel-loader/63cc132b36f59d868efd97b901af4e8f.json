{"ast":null,"code":"export const reducer = (state, action) => {\n  console.log(\"Context\", action);\n\n  switch (action.type) {\n    case \"REINIT_STATE\":\n      {\n        var _prevState$user;\n\n        const prevState = handleStorage(\"GET\", null);\n        return { ...state,\n          ...prevState,\n          isAdminLoggedIn: ((_prevState$user = prevState.user) === null || _prevState$user === void 0 ? void 0 : _prevState$user.profileType) === \"ADMIN\"\n        };\n      }\n\n    case \"SET_PAGE_TITLE\":\n      {\n        document.title = \"IGL Admin | \" + action.payload;\n        return { ...state,\n          pageTitle: \"IGL | \" + action.payload\n        };\n      }\n\n    case \"SET_ACTIVE_PAGE_HEAD\":\n      {\n        return { ...state,\n          pageHead: action.payload\n        };\n      }\n\n    case \"SET_ACTIVE_PAGE_SPINNER\":\n      {\n        return { ...state,\n          isActivePageSpinner: action.payload\n        };\n      }\n\n    case \"LOGIN\":\n      {\n        const currentState = handleStorage(\"SAVE\", action.payload);\n        return { ...state,\n          ...currentState,\n          isAdminLoggedIn: currentState.user.profileType === \"ADMIN\"\n        };\n      }\n\n    case \"LOGOUT\":\n      {\n        const currentState = handleStorage(\"REMOVE\", null);\n        return { ...state,\n          ...currentState\n        };\n      }\n\n    default:\n  }\n};\nconst localStorageName = \"IGL_APP_STATE\";\n\nfunction handleStorage(actionType, state) {\n  const stateDB = localStorage.getItem(localStorageName);\n  let currentState;\n  if (!stateDB) currentState = {\n    user: null,\n    isLoggedIn: false\n  };else currentState = JSON.parse(stateDB);\n\n  if (actionType === \"SAVE\") {\n    currentState.user = state;\n    currentState.isLoggedIn = true;\n  } else if (actionType === \"REMOVE\") {\n    currentState.user = null;\n    currentState.isLoggedIn = false;\n  }\n\n  localStorage.setItem(localStorageName, JSON.stringify(currentState));\n  return currentState;\n}\n\nexport const getUser = () => {\n  const stateDB = localStorage.getItem(localStorageName);\n  let currentState;\n  if (!stateDB) currentState = {\n    user: {},\n    isLoggedIn: false\n  };else currentState = JSON.parse(stateDB);\n  return currentState.user;\n};","map":{"version":3,"sources":["/Users/asifahmad/Documents/GitHub/igl-admin/src/Context/Reducer.js"],"names":["reducer","state","action","console","log","type","prevState","handleStorage","isAdminLoggedIn","user","profileType","document","title","payload","pageTitle","pageHead","isActivePageSpinner","currentState","localStorageName","actionType","stateDB","localStorage","getItem","isLoggedIn","JSON","parse","setItem","stringify","getUser"],"mappings":"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","sourcesContent":["export const reducer = (state, action) => {\n\tconsole.log(\"Context\", action);\n\tswitch (action.type) {\n\t\tcase \"REINIT_STATE\": {\n\t\t\tconst prevState = handleStorage(\"GET\", null);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...prevState,\n\t\t\t\tisAdminLoggedIn: prevState.user?.profileType === \"ADMIN\",\n\t\t\t};\n\t\t}\n\t\tcase \"SET_PAGE_TITLE\": {\n\t\t\tdocument.title = \"IGL Admin | \" + action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpageTitle: \"IGL | \" + action.payload,\n\t\t\t};\n\t\t}\n\t\tcase \"SET_ACTIVE_PAGE_HEAD\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpageHead: action.payload,\n\t\t\t};\n\t\t}\n\t\tcase \"SET_ACTIVE_PAGE_SPINNER\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisActivePageSpinner: action.payload,\n\t\t\t};\n\t\t}\n\t\tcase \"LOGIN\": {\n\t\t\tconst currentState = handleStorage(\"SAVE\", action.payload);\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...currentState,\n\t\t\t\tisAdminLoggedIn: currentState.user.profileType === \"ADMIN\",\n\t\t\t};\n\t\t}\n\t\tcase \"LOGOUT\": {\n\t\t\tconst currentState = handleStorage(\"REMOVE\", null);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...currentState,\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t}\n};\n\nconst localStorageName = \"IGL_APP_STATE\";\n\nfunction handleStorage(actionType, state) {\n\tconst stateDB = localStorage.getItem(localStorageName);\n\n\tlet currentState;\n\tif (!stateDB)\n\t\tcurrentState = {\n\t\t\tuser: null,\n\t\t\tisLoggedIn: false,\n\t\t};\n\telse currentState = JSON.parse(stateDB);\n\n\tif (actionType === \"SAVE\") {\n\t\tcurrentState.user = state;\n\t\tcurrentState.isLoggedIn = true;\n\t} else if (actionType === \"REMOVE\") {\n\t\tcurrentState.user = null;\n\t\tcurrentState.isLoggedIn = false;\n\t}\n\n\tlocalStorage.setItem(localStorageName, JSON.stringify(currentState));\n\treturn currentState;\n}\n\nexport const getUser = () => {\n\tconst stateDB = localStorage.getItem(localStorageName);\n\n\tlet currentState;\n\tif (!stateDB)\n\t\tcurrentState = {\n\t\t\tuser: {},\n\t\t\tisLoggedIn: false,\n\t\t};\n\telse currentState = JSON.parse(stateDB);\n\treturn currentState.user;\n};\n"]},"metadata":{},"sourceType":"module"}