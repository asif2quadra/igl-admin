{"ast":null,"code":"var _jsxFileName = \"/Users/asifahmad/Documents/GitHub/igl-admin/src/components/pages/Reports.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { callAPI } from \"../../common/common\";\nimport Pagination from \"../partials/Pagination\";\nimport DataTable from \"../partials/DataTable\"; // animation\n\nimport { motion } from \"framer-motion\";\nimport Animation from \"../../common/Animation\"; // icons\n\nimport { IoRefreshOutline } from \"react-icons/io5\";\nimport { MdClear } from \"react-icons/md\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst dateModule = require(\"../../common/date\");\n\nconst Reports = () => {\n  _s();\n\n  const renderProgress = (row = 0, col = 0) => {\n    const tableSize = [row, col];\n    return [...Array(tableSize[0])].map((tr, trIdx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [...Array(tableSize[1])].map((a, tdIdx, arr) => /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loadingWrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 7\n        }, this)\n      }, trIdx + tdIdx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 6\n      }, this))\n    }, trIdx, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }, this));\n  };\n\n  const renderTable = () => {\n    if (dataArr == null) return renderProgress(10, 10);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: dataArr.length > 0 ? dataArr.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.Station\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.dispensor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.side\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.contactNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.billNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.vehicleNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.CNGRate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.amount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 8\n        }, this)]\n      }, Math.random(), true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"text-center\",\n          colSpan: 10,\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge-info\",\n            children: \"Record Not Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 8\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }, this)\n    }, void 0, false);\n  };\n\n  const [filerDate, setFilterDate] = useState(dateModule.date());\n  const [filterStation, setFilterStation] = useState(\"DEFAULT\");\n\n  const triggerGetAll = () => setRandom(Math.random());\n\n  const [random, setRandom] = useState(0);\n  const [dataArr, setDataArr] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [limit, setLimit] = useState(50);\n  const [total, setTotal] = useState(0);\n  useEffect(e => {\n    const getAllBill = async () => {\n      setDataArr(null);\n      const response = await callAPI({\n        URL: \"sales/all?page=\" + currentPage + \"&limit=\" + limit + \"&date=\" + filerDate + (filterStation === \"DEFAULT\" ? \"\" : \"&station=\" + filterStation),\n        abort: true\n      });\n      if (response.status !== 200 && response.status !== 404) return;\n      setTotal(response.total);\n      setDataArr(response.status === 200 ? response.data : []);\n    };\n\n    getAllBill();\n    return () => {\n      window.$(\"#pageSpinner\").show();\n    };\n  }, [currentPage, limit, random, filerDate, filterStation]); // getting stations for dropdown\n\n  const [stationArr, setStationArr] = useState([]);\n  useEffect(() => {\n    const getAllStation = async () => {\n      const response = await callAPI({\n        URL: \"stations/mini\"\n      });\n\n      if (response.status === 200) {\n        setStationArr(response.data);\n      }\n    };\n\n    getAllStation();\n    window.$(\"#activePageHead\").text(\"Reports\");\n    window.$(\"#pageSpinner\").hide();\n    document.title = \"IGL ADMIN | Reports\";\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: Animation.variants.out,\n        animate: Animation.variants.in,\n        exit: Animation.variants.exit,\n        transition: Animation.PageTransition,\n        className: \"page-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card dataCard\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-title \",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 pageHead\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-0 mr-2 outline-none\",\n                      style: {\n                        width: \"50%\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        defaultValue: filterStation,\n                        value: filterStation,\n                        onChange: e => setFilterStation(e.target.value),\n                        title: \"Stations wise filter\",\n                        className: \"form-control\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"DEFAULT\",\n                          children: \"Select Station\"\n                        }, \"null\", false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 121,\n                          columnNumber: 14\n                        }, this), stationArr.map(stationItem => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: stationItem._id,\n                          children: stationItem.stationName\n                        }, stationItem._id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 125,\n                          columnNumber: 15\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-0 w-50 mr-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"date\",\n                        value: filerDate,\n                        title: \"Date wise filter\",\n                        onChange: e => setFilterDate(e.target.value),\n                        className: \"form-control\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      title: \"Reset filter\",\n                      onClick: e => {\n                        setFilterDate(dateModule.date());\n                        setFilterStation(\"DEFAULT\");\n                      },\n                      className: \"btn btnIconC border\",\n                      children: /*#__PURE__*/_jsxDEV(MdClear, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      title: \"Refresh\",\n                      onClick: triggerGetAll,\n                      className: \"btn btnIconC border\",\n                      children: /*#__PURE__*/_jsxDEV(IoRefreshOutline, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-0 ml-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        title: \"Result limit\",\n                        onChange: e => setLimit(e.target.value),\n                        defaultValue: limit,\n                        value: limit,\n                        className: \"form-control\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"50\",\n                          children: \"50\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 152,\n                          columnNumber: 14\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"100\",\n                          children: \"100\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 14\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"500\",\n                          children: \"500\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 14\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"1000\",\n                          children: \"1000\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 155,\n                          columnNumber: 14\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 151,\n                        columnNumber: 13\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n                      className: \"mb-0\",\n                      total: total,\n                      currentPage: currentPage,\n                      setCurrentPage: setCurrentPage,\n                      pageSize: limit\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n              tableRowHead: \"Station,Dispensor,Side,Name,Contact Number,Bill Number,Vehicle Number, CNG Rate,Quantity (Kg),Amount (INR)\",\n              renderTable: renderTable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Reports, \"uAmBPL8wWqSEBEnG5Tn4r9MUNI0=\");\n\n_c = Reports;\nexport default Reports;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"sources":["/Users/asifahmad/Documents/GitHub/igl-admin/src/components/pages/Reports.jsx"],"names":["useEffect","useState","callAPI","Pagination","DataTable","motion","Animation","IoRefreshOutline","MdClear","dateModule","require","Reports","renderProgress","row","col","tableSize","Array","map","tr","trIdx","a","tdIdx","arr","renderTable","dataArr","length","item","Station","dispensor","side","name","contactNumber","billNumber","vehicleNumber","CNGRate","quantity","amount","Math","random","filerDate","setFilterDate","date","filterStation","setFilterStation","triggerGetAll","setRandom","setDataArr","currentPage","setCurrentPage","limit","setLimit","total","setTotal","e","getAllBill","response","URL","abort","status","data","window","$","show","stationArr","setStationArr","getAllStation","text","hide","document","title","variants","out","in","exit","PageTransition","width","target","value","stationItem","_id","stationName"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\n\nimport { callAPI } from \"../../common/common\";\n\nimport Pagination from \"../partials/Pagination\";\nimport DataTable from \"../partials/DataTable\";\n\n// animation\nimport { motion } from \"framer-motion\";\nimport Animation from \"../../common/Animation\";\n\n// icons\nimport { IoRefreshOutline } from \"react-icons/io5\";\nimport { MdClear } from \"react-icons/md\";\n\nconst dateModule = require(\"../../common/date\");\n\nconst Reports = () => {\n\tconst renderProgress = (row = 0, col = 0) => {\n\t\tconst tableSize = [row, col];\n\t\treturn [...Array(tableSize[0])].map((tr, trIdx) => (\n\t\t\t<tr key={trIdx}>\n\t\t\t\t{[...Array(tableSize[1])].map((a, tdIdx, arr) => (\n\t\t\t\t\t<td key={trIdx + tdIdx}>\n\t\t\t\t\t\t<div className=\"loadingWrapper\">\n\t\t\t\t\t\t\t<div className=\"activity\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t))}\n\t\t\t</tr>\n\t\t));\n\t};\n\tconst renderTable = () => {\n\t\tif (dataArr == null) return renderProgress(10, 10);\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{dataArr.length > 0 ? (\n\t\t\t\t\tdataArr.map((item) => (\n\t\t\t\t\t\t<tr key={Math.random()}>\n\t\t\t\t\t\t\t<td>{item.Station}</td>\n\t\t\t\t\t\t\t<td>{item.dispensor}</td>\n\t\t\t\t\t\t\t<td>{item.side}</td>\n\t\t\t\t\t\t\t<td>{item.name}</td>\n\t\t\t\t\t\t\t<td>{item.contactNumber}</td>\n\t\t\t\t\t\t\t<td>{item.billNumber}</td>\n\t\t\t\t\t\t\t<td>{item.vehicleNumber}</td>\n\t\t\t\t\t\t\t<td>{item.CNGRate}</td>\n\t\t\t\t\t\t\t<td>{item.quantity}</td>\n\t\t\t\t\t\t\t<td>{item.amount}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td className=\"text-center\" colSpan={10}>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t<span className=\"badge badge-info\">Record Not Found</span>{\" \"}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst [filerDate, setFilterDate] = useState(dateModule.date());\n\tconst [filterStation, setFilterStation] = useState(\"DEFAULT\");\n\n\tconst triggerGetAll = () => setRandom(Math.random());\n\tconst [random, setRandom] = useState(0);\n\tconst [dataArr, setDataArr] = useState(null);\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [limit, setLimit] = useState(50);\n\tconst [total, setTotal] = useState(0);\n\tuseEffect(\n\t\t(e) => {\n\t\t\tconst getAllBill = async () => {\n\t\t\t\tsetDataArr(null);\n\t\t\t\tconst response = await callAPI({\n\t\t\t\t\tURL: \"sales/all?page=\" + currentPage + \"&limit=\" + limit + \"&date=\" + filerDate + (filterStation === \"DEFAULT\" ? \"\" : \"&station=\" + filterStation),\n\t\t\t\t\tabort: true,\n\t\t\t\t});\n\t\t\t\tif (response.status !== 200 && response.status !== 404) return;\n\t\t\t\tsetTotal(response.total);\n\t\t\t\tsetDataArr(response.status === 200 ? response.data : []);\n\t\t\t};\n\t\t\tgetAllBill();\n\t\t\treturn () => {\n\t\t\t\twindow.$(\"#pageSpinner\").show();\n\t\t\t};\n\t\t},\n\t\t[currentPage, limit, random, filerDate, filterStation]\n\t);\n\n\t// getting stations for dropdown\n\tconst [stationArr, setStationArr] = useState([]);\n\tuseEffect(() => {\n\t\tconst getAllStation = async () => {\n\t\t\tconst response = await callAPI({\n\t\t\t\tURL: \"stations/mini\",\n\t\t\t});\n\t\t\tif (response.status === 200) {\n\t\t\t\tsetStationArr(response.data);\n\t\t\t}\n\t\t};\n\t\tgetAllStation();\n\t\twindow.$(\"#activePageHead\").text(\"Reports\");\n\t\twindow.$(\"#pageSpinner\").hide();\n\t\tdocument.title = \"IGL ADMIN | Reports\";\n\t}, []);\n\treturn (\n\t\t<div className=\"page-wrapper\">\n\t\t\t<div className=\"page-content-wrapper\">\n\t\t\t\t<motion.div initial={Animation.variants.out} animate={Animation.variants.in} exit={Animation.variants.exit} transition={Animation.PageTransition} className=\"page-content\">\n\t\t\t\t\t<div className=\"card dataCard\">\n\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t<div className=\"card-title \">\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-12 pageHead\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-0 mr-2 outline-none\" style={{ width: \"50%\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<select defaultValue={filterStation} value={filterStation} onChange={(e) => setFilterStation(e.target.value)} title={\"Stations wise filter\"} className=\"form-control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={\"null\"} value={\"DEFAULT\"}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Station\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{stationArr.map((stationItem) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={stationItem._id} value={stationItem._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stationItem.stationName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-0 w-50 mr-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\" value={filerDate} title={\"Date wise filter\"} onChange={(e) => setFilterDate(e.target.value)} className=\"form-control\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={\"Reset filter\"}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFilterDate(dateModule.date());\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFilterStation(\"DEFAULT\");\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btnIconC border\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MdClear />\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" title={\"Refresh\"} onClick={triggerGetAll} className=\"btn btnIconC border\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IoRefreshOutline />\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group mb-0 ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<select title={\"Result limit\"} onChange={(e) => setLimit(e.target.value)} defaultValue={limit} value={limit} className=\"form-control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"50\">50</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"100\">100</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"500\">500</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"1000\">1000</option>\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Pagination className=\"mb-0\" total={total} currentPage={currentPage} setCurrentPage={setCurrentPage} pageSize={limit} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<DataTable tableRowHead={\"Station,Dispensor,Side,Name,Contact Number,Bill Number,Vehicle Number, CNG Rate,Quantity (Kg),Amount (INR)\"} renderTable={renderTable} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</motion.div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nexport default Reports;\n"]},"metadata":{},"sourceType":"module"}